Как связать планирование ТО с ремонтом?
Стандартный флоу:
Юзер: создает алерт - создает план ТО - отправляет машину в ремонт - принимает из ремонта - создает сервис-запись
Можно связать конкретный план с конкретной сервис-записью. Тогда в сервис-записи кликется кнопка В эксплуатацию, менятся статус машины, план идет в архив. Сервис-запись связать с конкретным планом, на основании этого плана подтянуть машину, предзаполнить поля св озможностью добавть работы, проведенные вне плана.
Но что если ремонт был не по плану? Тгда разделить сервис-записи на запланировнные и внеплановые. Если юзер не выберет конкретный план, тогда он должен поставить галочку "Внеплановый ремонт", создается внеплановая сервис-запись, как и сейчас реализовано, начиная с выбора машины и с заполнением всех полей. 
Как тогда быть с учетом простоя машины? Если неполадка вознила и сразу была устранена без алерта и планировния, тогда просто заполняется сервис-запись, потому что простоя не возникло
Но все равно, лучше не допускать внеплановых ремонтов и оформлять обыным порядком: алерт - план - ремонт - сервис-запись.

2. При учете периодического обслуживания: связать сервис-записи с учетом плана периодического обслуживания: через опервцию/дату/пробег.



